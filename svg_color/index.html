<!DOCTYPE html>
<html>
	<head>
		<title>This shows how to get elements inside included svg images from the surrounding html.</title>
	</head>
	<body>
		<object class="emb" data="camiseta.svg" type="image/svg+xml"></object>
		<script>
		
		// wait until all the resources are loaded
		window.addEventListener("load", findSVGElements, false);
		
		// fetches the document for the given embedding_element
		function getSubDocument(embedding_element)
		{
			if (embedding_element.contentDocument) 
			{
				return embedding_element.contentDocument;
			} 
			else 
			{
				var subdoc = null;
				try {
					subdoc = embedding_element.getSVGDocument();
				} catch(e) {}
				return subdoc;
			}
		}
				
		function findSVGElements()
		{
			var elms = document.querySelectorAll(".emb");
			for (var i = 0; i < elms.length; i++)
			{
				var subdoc = getSubDocument(elms[i])
				if (subdoc)
					subdoc.getElementById("derecha").setAttribute("fill", "lime");
			}
		}
		</script>
	</body>
</html>
